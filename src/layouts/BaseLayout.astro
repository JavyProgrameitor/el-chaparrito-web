---
import { site } from "../data/site";
import "../styles/global.css";

const { title = site.name, description = site.tagline } = Astro.props;

// Cambia esto cuando tengas dominio propio
const SITE_URL = "https://www.elchaparrito.es";

// Imagen OG (JPG/PNG recomendado para WhatsApp/Twitter)
const OG_IMAGE = `${SITE_URL}/og-image.jpg`;
---

<!doctype html>
<html lang="es" class="scroll-smooth">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>{title}</title>
    <meta name="description" content={description} />
    <meta name="robots" content="index,follow" />

    <!-- Open Graph (WhatsApp / Facebook / LinkedIn) -->
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content={site.name} />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:url" content={SITE_URL + Astro.url.pathname} />

    <meta property="og:image" content={OG_IMAGE} />
    <meta property="og:image:secure_url" content={OG_IMAGE} />
    <meta property="og:image:type" content="image/jpg" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={description} />
    <meta name="twitter:image" content={OG_IMAGE} />

    <!-- (Opcional) Quita el warning del debugger -->
    <meta property="fb:app_id" content="966242223397117" />

    <!-- Fuente -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Rye&display=swap"
      rel="stylesheet"
    />

    <!-- Favicons (mejor PNG/ICO para compatibilidad) -->
    <link rel="icon" href="/favicon.ico" sizes="any" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16.png" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />

    <link rel="canonical" href={SITE_URL + Astro.url.pathname} />
    <meta property="og:url" content={SITE_URL + Astro.url.pathname} />

    <script
      type="application/ld+json"
      set:html={JSON.stringify({
        "@context": "https://schema.org",
        "@type": "LocalBusiness",
        name: "SOC. COOP. EL CHAPARRITO",
        description: "Servicios agrÃ­colas a terceros",
        url: "https://www.elchaparrito.es",
        telephone: ["+34 636483088", "+34 659094474"],
        address: {
          "@type": "PostalAddress",
          addressLocality: "Pueblonuevo del Guadiana",
          addressRegion: "Badajoz",
          addressCountry: "ES",
        },
      })}
    />
  </head>

  <body class="bg-jd-yellowSoft text-jd-greenDark font-sans">
    <slot />
  </body>
</html>