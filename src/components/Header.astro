---
import { site } from "../data/site";

const phonePretty = (p: string) => {
  const s = String(p).replace(/\s+/g, "");
  return s.replace(/(\d{3})(\d{3})(\d{3})/, "$1 $2 $3");
};

const waLink = `https://wa.me/${site.whatsappPhone}?text=${encodeURIComponent(
  "Hola, me gustarÃ­a pedir presupuesto y disponibilidad."
)}`;
---

<header class="sticky top-0 z-50 border-b border-slate-200 bg-white/80 backdrop-blur">
  <div class="mx-auto max-w-5xl px-4 py-3">
    <div class="flex flex-col items-center text-center">
      <a href="/" class="inline-flex flex-col items-center gap-2">
        <img src="/brand/Ch.avif" alt="El Chaparrito" class="h-14 w-auto" />
        <div class="text-sm font-semibold tracking-wide text-slate-800">
          <div>ðŸ“ž +34 {phonePretty(site.phone1)}</div>
          <div class="text-xs font-medium text-slate-600">+34 {phonePretty(site.phone2)}</div>
        </div>
      </a>

      <div class="mt-3 flex flex-wrap items-center justify-center gap-2">
        <a
          href={waLink}
        class="inline-block rounded-xl bg-jd-green px-6 py-3 font-semibold text-jd-yellow shadow-md transition hover:bg-jd-greenDark"
        >
          WhatsApp
        </a>
        <a
          href={`tel:+34${site.phone1}`}
        class="inline-block rounded-xl bg-jd-green px-6 py-3 font-semibold text-jd-yellow shadow-md transition hover:bg-jd-greenDark"
        >
          Llamar
        </a>
      </div>
    </div>
  </div>
</header>
